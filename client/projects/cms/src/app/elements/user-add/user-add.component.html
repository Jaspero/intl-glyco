<button mat-flat-button (click)="open()">{{'GENERAL.ADD' | transloco}} User</button>

<ng-template #addDialog>
  <h4 mat-dialog-title>Add User</h4>

  <form [formGroup]="form" autocomplete="off">
    <mat-dialog-content>
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{'GENERAL.EMAIL' | transloco}}</mat-label>
        <input type="email" formControlName="email" matInput>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{'GENERAL.PASSWORD' | transloco}}</mat-label>
        <input type="password" formControlName="password" matInput>
        <mat-icon class="pointer" matSuffix matTooltip="Generate Random Password" (click)="generateRandomPassword()">cached</mat-icon>
        <mat-hint>{{'SETTINGS.PASSWORD_INSTRUCTIONS' | transloco}}</mat-hint>
        <mat-error>{{'SETTINGS.PASSWORD_RULES' | transloco}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full m-t-m">
        <mat-label>{{'SETTINGS.ROLE' | transloco}}</mat-label>
        <mat-select formControlName="role">
          <mat-option *ngFor="let role of roles$ | async" [value]="role.id">{{role.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions class="jc-end">
      <button type="submit" mat-flat-button color="primary" [disabled]="form.invalid" [jpLoadClick]="add()">{{'GENERAL.ADD' | transloco}}</button>
    </mat-dialog-actions>
  </form>
</ng-template>
